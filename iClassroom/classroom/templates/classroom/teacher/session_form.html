

{% block content %}
<div class="container">
    <h2>{% if object %}Edit{% else %}Create{% endif %} Session</h2>
    
    <form method="post">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {{ form.non_field_errors }}
            </div>
        {% endif %}
        
        <div class="form-group">
            <label for="{{ form.session_date.id_for_label }}">Date</label>
            {{ form.session_date }}
            {% if form.session_date.errors %}
                <div class="invalid-feedback">
                    {{ form.session_date.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.start_time.id_for_label }}">Start Time</label>
            {{ form.start_time }}
            {% if form.start_time.errors %}
                <div class="invalid-feedback">
                    {{ form.start_time.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.end_time.id_for_label }}">End Time</label>
            {{ form.end_time }}
            {% if form.end_time.errors %}
                <div class="invalid-feedback">
                    {{ form.end_time.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.topic.id_for_label }}">Topic</label>
            {{ form.topic }}
            {% if form.topic.errors %}
                <div class="invalid-feedback">
                    {{ form.topic.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.notes.id_for_label }}">Notes</label>
            {{ form.notes }}
            {% if form.notes.errors %}
                <div class="invalid-feedback">
                    {{ form.notes.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Session</button>
            <a href="{% url 'session_list' class_id=view.kwargs.class_id %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<style>
    .invalid-feedback {
        color: #dc3545;
        font-size: 0.875em;
    }
    .form-control.is-invalid {
        border-color: #dc3545;
    }
    /* Add this to your CSS */
.form-group {
    margin-bottom: 1rem;
}

.form-control {
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.form-control:focus {
    color: #495057;
    background-color: #fff;
    border-color: #80bdff;
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
</style>

<script>
    // Add Bootstrap validation classes
    document.addEventListener('DOMContentLoaded', function() {
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach(input => {
            if (input.classList.contains('is-invalid')) {
                input.classList.add('is-invalid');
            }
        });
    });
</script>
{% endblock %}